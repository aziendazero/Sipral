<div xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:s="http://jboss.com/products/seam/taglib" xmlns:rich="http://richfaces.org/rich" xmlns:a4j="http://richfaces.org/a4j" xmlns:jstl="http://java.sun.com/jstl/core" style="height:100%;width:100%;">
			<a4j:outputPanel layout="block" id="LayoutRow_1505302409894" style="width:100%;" styleClass="layoutContainer layoutContainerVertical layoutRootVertical  layoutRoot" >
				<a4j:outputPanel layout="block" id="LayoutRow_1504876623883" style="padding-bottom:10px;" styleClass="layoutContainer layoutContainerVertical" >
					<a4j:outputPanel layout="block" id="LayoutRow_1562578183931" style="width:50%;" styleClass="layoutContainer layoutContainerHorizontal" >
						<a4j:outputPanel layout="block" id="LayoutRow_1562578186291" styleClass="layoutContainer layoutContainerVertical" >
							<a4j:outputPanel layout="block" id="LayoutRow_1502985743519" styleClass="layoutContainer layoutContainerHorizontal" >
								<a4j:outputPanel layout="block" styleClass="layoutVertical" id="MonthCalendar_1502828022193" >
								<label >
									<span class="label">${msg.label_MonthCalendar_1502828022193}</span>
									<h:inputText id="MonthCalendar_1502828022193_id" value="#{Attivita.dataInizio}" required="true" class="datetimepicker  monthCalendar layoutRequired" style="vertical-align:middle;" label="${msg.label_MonthCalendar_1502828022193}"  autocomplete="off" >
									<s:convertDateTime pattern="${format.dateTimeNormal}" />
									<a4j:support limitToList="true" ajaxSingle="true" reRender="LayoutRow_1505087787504,LayoutRow_1505350800324" event="onchange" ignoreDupResponses="true" />
									</h:inputText>
									<i class="ui-datepicker-trigger" onclick="showDateTimePicker(this);"  />
									<h:message style="float:left;" for="MonthCalendar_1502828022193_id" styleClass="errorMessages MonthCalendar_1502828022193_E" />
								</label>
								</a4j:outputPanel>

								<a4j:outputPanel layout="block" styleClass="layoutVertical" id="ComboBox_1501793769284" >
								<label >
									<span class="label">${msg.label_ComboBox_1501793769284}</span>
									<h:selectOneMenu id="ComboBox_1501793769284_id" value="#{Attivita.code}" required="true" disabled="#{not empty Attivita.code}" styleClass="layoutRequired comboBox" title="${msg.alt_ComboBox_1501793769284}" label="${msg.label_ComboBox_1501793769284}" >
										<f:selectItem itemLabel="-" itemValue=""/>
										<f:selectItems value="#{vocabularies.getIdValues('PHIDIC:ActivityTypes')}" />
										<f:converter converterId="CodeValueConverter"/>
										<a4j:support limitToList="true" ajaxSingle="true" reRender="VirtualPage_1505505543530,LayoutRow_1502878742978,LayoutRow_1502989500684,LayoutRow_1504595279536,VirtualPage_1508847566155,ComboBox_1501793769284,VirtualPage_CheckList,phiDesktop" event="onchange" action="#{MedicinaLavoroAction.updateLuogo()}" ignoreDupResponses="true" />
									</h:selectOneMenu>
									<h:message style="float:left;" for="ComboBox_1501793769284_id" styleClass="errorMessages ComboBox_1501793769284_E" />
								</label>
								</a4j:outputPanel>

								<a4j:outputPanel layout="block" id="LayoutRow_1502989500684" styleClass="layoutContainer layoutContainerVertical" >
 
									<a4j:outputPanel layout="block" styleClass="layoutHorizontal inputArea" id="TextArea_1503978823939" >
									<label style="display:#{(Attivita.code.code eq 'generic' ? true : 'false'.concat(Attivita.setTypeText(null))) ? 'block' : 'none' };" >
										<span class="label">${msg.label_TextArea_1503978823939}</span>
										<div>
										<h:inputTextarea id="TextArea_1503978823939_id" value="#{Attivita.typeText}" rendered="#{Attivita.code.code eq 'generic' ? true : 'false'.concat(Attivita.setTypeText(null))}" label="${msg.label_TextArea_1503978823939}" >
											<f:validateLength minimum="0" maximum="255"/>
										</h:inputTextarea>
										</div>
									</label>
									<h:message style="float:left;" for="TextArea_1503978823939_id" styleClass="errorMessages TextArea_1503978823939_E" />
									</a4j:outputPanel>

								</a4j:outputPanel>
								<a4j:outputPanel layout="block" id="LayoutRow_1505350800324" styleClass="layoutContainer layoutContainerVertical" >
									<div class="layoutHorizontal" >
									<label >
										<span class="label">${msg.label_Label_1504483836258}</span>
										<h:outputText value="#{Attivita.numero}" id="Label_1504483836258" styleClass="labelContent  base-label" />
									</label>
									</div>

									<div class="layoutHorizontal" >
									<span value="${msg.Label_1503819312112}" class="labelContent  base-label" >${msg.Label_1503819312112}</span>
									</div>

									<div class="layoutHorizontal" >
									<h:outputText value="#{Attivita.dataInizio}" id="Label_1503369275207" style="display:block;" styleClass="labelContent  base-label" >
										<s:convertDateTime pattern="yyyy" />
									</h:outputText>
									</div>

								</a4j:outputPanel>
							</a4j:outputPanel>
							<a4j:outputPanel layout="block" id="LayoutRow_1505476343373" styleClass="layoutContainer layoutContainerHorizontal" >
								<div class="layoutVertical" >
								<a4j:outputPanel layout="block" id="JollyWidget_1504942941835" style="height:100%;width:100%;" >
									<style>
									 .nullified_V0{ color: #000000;background-color:#ff8f8f; font-weight:bold;}
									 .completed_V0{ color: #000000;background-color:#b2e8b2; font-weight:bold;}
									 .active_V0{ color: #000000;background-color:#ffe34e; font-weight:bold;}
									</style>
									
								</a4j:outputPanel>
								</div>

								<div class="layoutVertical" >
								<label >
									<span class="label">${msg.label_MonthCalendar_1502628693396}</span>
									<h:inputText id="MonthCalendar_1502628693396" value="#{Attivita.dataFine}" class="datetimepicker  monthCalendar" style="vertical-align:middle;" label="${msg.label_MonthCalendar_1502628693396}"  autocomplete="off" >
									<s:convertDateTime pattern="${format.dateTimeNormal}" />
									<a4j:support limitToList="true" ajaxSingle="true" reRender="LayoutRow_1505087787504" event="onchange" ignoreDupResponses="true" />
									</h:inputText>
									<i class="ui-datepicker-trigger" onclick="showDateTimePicker(this);"  />
									<h:message style="float:left;" for="MonthCalendar_1502628693396" styleClass="errorMessages MonthCalendar_1502628693396_E" />
								</label>
								</div>

								<div class="layoutVertical" >
								<a4j:outputPanel layout="block" id="JollyWidget_1505798885628" style="height:100%;width:100%;" >
									<script>
									jQuery("[name*='ComboBox_1502776095099']").removeClass();
									jQuery("[name*='ComboBox_1502776095099']").addClass(jQuery("[name*='ComboBox_1502776095099']").val().substring(jQuery("[name*='ComboBox_1502776095099']").val().lastIndexOf('.')+1))
									</script>
								</a4j:outputPanel>
								</div>

								<a4j:outputPanel layout="block" id="LayoutRow_1505087787504" styleClass="layoutContainer layoutContainerVertical" >
									<div class="layoutVertical" >
									<label >
										<span class="label">${msg.label_Label_1502799448559}</span>
										<h:outputText value="#{AttivitaAction.durata(Attivita)}" id="Label_1502799448559" styleClass="labelContent  base-label" />
									</label>
									</div>

									<a4j:outputPanel layout="block" id="LayoutRow_1504727576342" styleClass="layoutContainer layoutContainerVertical" >
										<div class="layoutHorizontal" >
										<a4j:commandLink action="#{processManager.manageTask('Link_1503894635886')}" status="ajaxStatus" id="Link_1503894635886" alt="#{LINK}" reRender="phiDesktop" styleClass="link" />
										</div>

										<div class="layoutHorizontal" >
										<a4j:commandLink action="#{processManager.manageTask('Link_1505151944748')}" status="ajaxStatus" id="Link_1505151944748" alt="#{LINK}" reRender="phiDesktop" styleClass="link" />
										</div>

									</a4j:outputPanel>
								</a4j:outputPanel>
								<div class="layoutVertical" >
								<label >
									<span class="label">${msg.label_ComboBox_1502776095099}</span>
									<h:selectOneMenu id="ComboBox_1502776095099" value="#{Attivita.statusCode}" styleClass="comboBox" title="${msg.alt_ComboBox_1502776095099}" label="${msg.label_ComboBox_1502776095099}" onchange="jQuery('&lt;style &gt; .nullified_V0{ color: #000000;background-color:#ff8f8f; font-weight:bold;} .completed_V0{ color: #000000;background-color:#b2e8b2; font-weight:bold;} .active_V0{ color: #000000;background-color:#ffe34e; font-weight:bold;}&lt;/style&gt;').appendTo('head');jQuery(this).removeClass();jQuery(this).addClass(jQuery(this).val().substring(jQuery(this).val().lastIndexOf('.')+1))">
										<f:selectItem itemLabel="-" itemValue=""/>
										<f:selectItems value="#{vocabularies.getIdValues('PHIDIC:Status')}" />
										<f:converter converterId="CodeValueConverter"/>
									</h:selectOneMenu>
								</label>
								</div>

							</a4j:outputPanel>
						</a4j:outputPanel>
 
						<a4j:outputPanel layout="block" styleClass="layoutVertical inputArea" id="TextArea_1504977309634" >
						<label >
							<span class="label">${msg.label_TextArea_1504977309634}</span>
							<div>
							<h:inputTextarea id="TextArea_1504977309634_id" value="#{Attivita.note}" label="${msg.label_TextArea_1504977309634}" >
								<f:validateLength minimum="0" maximum="4000"/>
							</h:inputTextarea>
							</div>
						</label>
						<h:message style="float:left;" for="TextArea_1504977309634_id" styleClass="errorMessages TextArea_1504977309634_E" />
						</a4j:outputPanel>

					</a4j:outputPanel>
					<a4j:outputPanel layout="block" id="LayoutRow_1562575990478" style="width:40%;" styleClass="layoutContainer layoutContainerHorizontal" rendered="false" >
						<a4j:outputPanel layout="block" id="VirtualPage_CheckList" style="padding-top:10px;" styleClass="virtualPageBox" >
							<a4j:include id="VPvp_lista_questionari" layout="block" viewId="/MOD_home/CORE/FORMS/vp_lista_questionari.xhtml" rendered="#{Attivita.code.code=='CheckList' and Attivita.controlLsReq==null}"  styleClass="virtualPageBox"/>
						</a4j:outputPanel>

					</a4j:outputPanel>
				</a4j:outputPanel>
				<a4j:outputPanel layout="block" id="LayoutRow_1504595279536" styleClass="layoutContainer layoutContainerVertical" >
					<a4j:outputPanel layout="block" style="padding-bottom:20px;padding:0;" id="LayoutRow_1505543650538" styleClass="layoutContainer layoutContainerHorizontal" >
					<a4j:outputPanel layout="block" style="width:100%;height:100%" rendered="#{Attivita.code.code=='visitaMedica'}" >
						<div class="layoutHorizontal" >
						<label >
							<span class="label">${msg.label_ComboBox_1505321100719}</span>
							<h:selectOneMenu id="ComboBox_1505321100719" value="#{VisitaMdl.code}" styleClass="comboBox" label="${msg.label_ComboBox_1505321100719}" >
								<f:selectItem itemLabel="-" itemValue=""/>
								<f:selectItems value="#{vocabularies.getIdValues('PHIDIC:MdlSubType')}" />
								<f:converter converterId="CodeValueConverter"/>
								<a4j:support limitToList="true" ajaxSingle="true" reRender="VirtualPage_1505505543530" event="onchange" ignoreDupResponses="true" />
							</h:selectOneMenu>
						</label>
						</div>

						<div class="layoutHorizontal" >
						<label >
							<span class="label">${msg.label_CheckBox_1503715085704}</span>
							<h:selectBooleanCheckbox id="CheckBox_1503715085704" value="#{VisitaMdl.primaVisita}" style="vertical-align:middle;" styleClass="checkBox" alt="CHECKBOX" label="${msg.label_CheckBox_1503715085704}" />
							<h:message for="CheckBox_1503715085704" styleClass="errorMessages CheckBox_1503715085704_E" />
						</label>
						</div>
						<h:outputLabel layout="block" styleClass="widgetDiv"  for="CheckBox_1503715085704" style="display:none;" value="hiddenLabel"></h:outputLabel>
					</a4j:outputPanel>
					</a4j:outputPanel>
					<a4j:outputPanel layout="block" style="padding-bottom:20px;padding:0;" id="LayoutRow_1505581539785" styleClass="layoutContainer layoutContainerHorizontal" >
					<a4j:outputPanel layout="block" style="width:100%;height:100%" rendered="#{Attivita.code.code=='accertamento'}" >
						<div class="layoutHorizontal" >
						<label >
							<span class="label">${msg.label_ComboBox_1503193532416}</span>
							<h:selectOneMenu id="ComboBox_1503193532416" value="#{AccertaMdl.code}" styleClass="comboBox" label="${msg.label_ComboBox_1503193532416}" >
								<f:selectItem itemLabel="-" itemValue=""/>
								<f:selectItems value="#{vocabularies.getIdValues('PHIDIC:AccSubType')}" />
								<f:converter converterId="CodeValueConverter"/>
								<a4j:support limitToList="true" ajaxSingle="true" reRender="VirtualPage_1505505543530" event="onchange" ignoreDupResponses="true" />
							</h:selectOneMenu>
						</label>
						</div>

					</a4j:outputPanel>
					</a4j:outputPanel>
				</a4j:outputPanel>
				<a4j:outputPanel layout="block" id="LayoutRow_1502878742978" style="padding-bottom:10px;" styleClass="layoutContainer layoutContainerVertical" >
					<a4j:outputPanel layout="block" id="VirtualPage_1505505543530" styleClass="virtualPageBox" >
						<a4j:include id="VPvp_sopralluogo" layout="block" viewId="/MOD_home/CORE/FORMS/vp_sopralluogo.xhtml" rendered="#{Attivita.code.code=='sopralluogo'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_acquisizione_informazioni" layout="block" viewId="/MOD_home/CORE/FORMS/vp_acquisizione_informazioni.xhtml" rendered="#{Attivita.code.code=='acquisizionedocumentale' or Attivita.code.code=='incontri' or Attivita.code.code=='convocazione'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_rilevazione_ambientele" layout="block" viewId="/MOD_home/CORE/FORMS/vp_rilevazione_ambientele.xhtml" rendered="#{Attivita.code.code=='rilevazione'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_sequestri" layout="block" viewId="/MOD_home/CORE/FORMS/vp_sequestri.xhtml" rendered="#{Attivita.code.code=='sequestro'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_commissioni" layout="block" viewId="/MOD_home/CORE/FORMS/vp_commissioni.xhtml" rendered="#{Attivita.code.code=='commissione'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_accesso_atti" layout="block" viewId="/MOD_home/CORE/FORMS/vp_accesso_atti.xhtml" rendered="#{Attivita.code.code=='accessoatti'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_visita_ext" layout="block" viewId="/MOD_home/CORE/FORMS/vp_visita_ext.xhtml" rendered="#{Attivita.code.code=='visitaMedica' and VisitaMdl.code.code=='02'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_visita_spisal" layout="block" viewId="/MOD_home/CORE/FORMS/vp_visita_spisal.xhtml" rendered="#{Attivita.code.code=='visitaMedica' and VisitaMdl.code.code=='01'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_visita_conclusioni" layout="block" viewId="/MOD_home/CORE/FORMS/vp_visita_conclusioni.xhtml" rendered="#{Attivita.code.code=='visitaMedica'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_accertamento_spisal" layout="block" viewId="/MOD_home/CORE/FORMS/vp_accertamento_spisal.xhtml" rendered="#{Attivita.code.code=='accertamento' and AccertaMdl.code.code=='01'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_accertamento_ext" layout="block" viewId="/MOD_home/CORE/FORMS/vp_accertamento_ext.xhtml" rendered="#{Attivita.code.code=='accertamento' and AccertaMdl.code.code=='02'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_counselling" layout="block" viewId="/MOD_home/CORE/FORMS/vp_counselling.xhtml" rendered="#{Attivita.code.code=='counselling'}"  styleClass="virtualPageBox"/>
						<a4j:include id="VPvp_control_list" layout="block" viewId="/MOD_home/CORE/FORMS/vp_control_list.xhtml" rendered="#{Attivita.code.code=='CheckList' and RispostaList.size()>0}"  styleClass="virtualPageBox"/>
					</a4j:outputPanel>

				</a4j:outputPanel>
				<a4j:outputPanel layout="block" id="LayoutRow_1508847541404" styleClass="layoutContainer layoutContainerVertical" >
					<a4j:outputPanel layout="block" id="VirtualPage_1508847566155" styleClass="virtualPageBox" >
						<a4j:include id="VPvp_accertamento_prestazioni" layout="block" viewId="/MOD_home/CORE/FORMS/vp_accertamento_prestazioni.xhtml" rendered="#{Attivita.code.code=='accertamento'}"  styleClass="virtualPageBox"/>
					</a4j:outputPanel>

				</a4j:outputPanel>
				<a4j:outputPanel layout="block" style="padding:0;" id="LayoutRow_1503060013616" styleClass="layoutContainer layoutContainerVertical" >
				<a4j:outputPanel layout="block" style="width:100%;height:100%" rendered="#{SoggettoList.size()>0}" >
				<fieldset class="layoutGroupBox" ><legend class="groupBoxLegend" >${msg.LayoutRow_1503060013616}</legend>
					<a4j:outputPanel id="DataGrid_1505377356396" layout="block" styleClass="dt layoutTable layoutHorizontal" >
						<table id="d1505377356396" cellspacing="0" cellpadding="0" summary="${msg.DataGrid_1505377356396} [SoggettoList]" >
							<thead class="tableHeader">
								<tr>
									<th><a4j:commandLink id="DataGridColumn_1504943405935" value="${msg.DataGridColumn_1504943405935} &#8593;&#8595;" action="#{SoggettoList.orderBy('code')}" reRender="DataGrid_1505377356396" ajaxSingle="true" disabled="#{empty SoggettoList ? true : false}"/></th>
									<th class="sortableColumn">${msg.DataGridColumn_1505405960551} &#8593;&#8595;</th>
									<th class="sortableColumn">${msg.DataGridColumn_1505324008309} &#8593;&#8595;</th>
									<th><a4j:commandLink id="DataGridColumn_1504978880028" value="${msg.DataGridColumn_1504978880028} &#8593;&#8595;" action="#{SoggettoList.orderBy('addr.str')}" reRender="DataGrid_1505377356396" ajaxSingle="true" disabled="#{empty SoggettoList ? true : false}"/></th>
									<th><a4j:commandLink id="DataGridColumn_1505526905682" value="${msg.DataGridColumn_1505526905682} &#8593;&#8595;" action="#{SoggettoList.orderBy('addr.cty')}" reRender="DataGrid_1505377356396" ajaxSingle="true" disabled="#{empty SoggettoList ? true : false}"/></th>
								</tr>
							</thead>
							<tbody class="tableBody">
								<jstl:if test="#{empty SoggettoList or SoggettoList.isEmpty()}">
									<tr class="noresults">
										<td colspan="5">${error.emtpy_search_for_table}</td>
									</tr>
								</jstl:if>
								<a4j:repeat id="r1505377356396" value="#{SoggettoList.entities}" var="Soggetto" rowKeyVar="rowIndex" >
									<tr >
										<td style="width:10%;" >
											#{Soggetto.code}
										</td>

										<td style="width:30%;" >
											#{Soggetto.code.code.equals('Ditta')?(Soggetto.getTipoDitta().getCurrentTranslation()):(Soggetto.code.code.equals('Utente')?(Soggetto.getRuolo().getCurrentTranslation()):(Soggetto.code.code.equals('Altro')?(Soggetto.getRiferimentoEntita().getCurrentTranslation()):(Soggetto.code.code.equals('Cantiere')?(Soggetto.getCantiere().getNaturaOpera()):'')))}
										</td>

										<td style="width:30%;" >
											#{SoggettoAction.getDetails(Soggetto)}
										</td>

										<td style="width:15%;" >
											<span style="display:#{(Soggetto.addr.str!=null and Soggetto.addr.str!='') ? 'block' : 'none' };" class="base-label" >#{function.concat(Soggetto.addr.str, ' N. ', Soggetto.addr.bnr)}</span>
										</td>

										<td style="width:15%;" >
											#{Soggetto.addr.cty}
										</td>

									</tr>
								</a4j:repeat>
							</tbody>
						</table>
					</a4j:outputPanel>

				</fieldset>
				</a4j:outputPanel>
				</a4j:outputPanel>
			</a4j:outputPanel>

	<script>focusFirstElement();</script>
</div>
